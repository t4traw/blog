---
title: Google Firebaseに入門[1]
date: 2019-05-09T11:52:43+09:00
categories:
  - 
tags:
  - 
image: https://s3-ap-northeast-1.amazonaws.com/t4traw/ss/20190509-115418.png
---
実際にAppを作っていきます。

App側はVue.jsを使うことにしました。Nuxt.jsを考えましたが、薄く軽く作る予定なので、シンプルにVue.jsで作ってみることにしました。

<!--more-->

というわけで、インストール。

```
$ npm i vue-cli
```

インストールできたら、さっそくinitします。とりあえずデフォルトで良いのでEnterでサクサクすすめます。

```
$ npx vue init webpack

? Generate project in current directory? Yes
? Project name carbdb
? Project description A Vue.js project
? Author t4traw
? Vue build standalone
? Install vue-router? Yes
? Use ESLint to lint your code? Yes
? Pick an ESLint preset Standard
? Set up unit tests Yes
? Pick a test runner jest
? Setup e2e tests with Nightwatch? Yes
? Should we run `npm install` for you after the project has been created? (recommended) npm

   vue-cli · Generated "carbdb".


# Installing project dependencies ...
# ========================
```

と思ったら、このコマンドで**README.mdとかpackage.jsonが上書きされていましたorz** これは最初にvueもinitしておくべきだったか……。

必要に応じて内容を戻し、とりあえずbuildしてみます。

```
$ npm run build
```

そしたら、distディレクトリが作られ、そこにビルドしたモノが入っています。

公開時はこのディレクトリの中を見てほしいので、firebaseのpublicディレクトリをdistに設定します。

<div class="filename">firebase.json</div>

```json
~~~省略~~~
  "hosting": {
    "public": "dist",
    "ignore": [
      "firebase.json",
      "**/.*",
      "**/node_modules/**"
    ]
  },
~~~省略~~~
```

この状態でdeployしてみます。

```
$ npm run deploy
```

デプロイ先のページがこんな感じになっていたら成功です。

![](https://s3-ap-northeast-1.amazonaws.com/t4traw/ss/20190510-093026.png)


## Firebaseにつないでみる

Firebaseのコンソールからアプリケーションを追加します。

設定からプロジェクトの設定をクリックし、

![](https://s3-ap-northeast-1.amazonaws.com/t4traw/ss/20190510-105103.png)

今回はWEB Appなのでブラケットのアイコンをクリックします。

![](https://s3-ap-northeast-1.amazonaws.com/t4traw/ss/20190510-105210.png)

適当なニックネームをつけ、Hostingの設定もしておきます。

![](https://s3-ap-northeast-1.amazonaws.com/t4traw/ss/20190510-105414.png)

Firebase SDKの追加が表示されますが、とりあえず『コンソールに進む』をクリックして先に進んでください。

そしたらfirebaseとつなぐためのライブラリをインストールします。

```
$ npm i firebase
```

src/main.jsにさきほど作成したappの情報を追加します。

firebaseConfigの値については

![](https://s3-ap-northeast-1.amazonaws.com/t4traw/ss/20190510-110217.png)

ここをまるっとコピーすれば大丈夫なはずです。

<div class="filename">src/main.js</div>

```js
import Vue from 'vue'
import App from './App'
import router from './router'
import firebase from 'firebase'

Vue.config.productionTip = false

const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "carbdbapp.firebaseapp.com",
  databaseURL: "https://carbdbapp.firebaseio.com",
  projectId: "carbdbapp",
  storageBucket: "carbdbapp.appspot.com",
  messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
  appId: "YOUR_APP_ID"
};
firebase.initializeApp(firebaseConfig)

/* eslint-disable no-new */
new Vue({
  el: '#app',
  router,
  components: { App },
  template: '<App/>'
})

```

## データベースの読み書きをしてみる



![](https://s3-ap-northeast-1.amazonaws.com/t4traw/ss/20190510-172941.png)

![](https://s3-ap-northeast-1.amazonaws.com/t4traw/ss/20190510-174513.png)

![](https://s3-ap-northeast-1.amazonaws.com/t4traw/ss/20190510-174541.png)