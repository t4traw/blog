---
title: Rails 5.1 + Ruby 2.5.0 + Vue.jsã®é–‹ç™ºç’°å¢ƒã‚’ã¤ãã‚‹
date: 2018-02-05
archives: ["2018/02"]
categories:
  - é–‹ç™º
tags:
  - rails
  - vue
  - webpack
image: rails.png
---
åˆè©£ã®ãŠã¿ãã˜ã§ã€Œä»Šå¹´ã¯å…¨åŠ›ã§å‹‰å¼·ã—ã‚ã€ã¨æ›¸ã‹ã‚Œã¦ã„ãŸã®ã§ã€ã•ã£ããå‹‰å¼·ã‚’åˆã‚ã¦ã¿ã‚‹ã€‚ä»¥å‰ã‹ã‚‰æ°—ã«ãªã£ã¦ã„ãŸãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å‘¨ã‚Šã‚’å°‘ã—ãšã¤è§¦ã£ã¦ã„ã£ã¦ã¿ã‚‹ã€‚å…·ä½“çš„ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦ã¯vue.jsã€‚

<!--more-->

ã¨ã„ã†ã‚ã‘ã§'rails new'ã‚’ã—ã¾ã™ãŒã€æœ€åˆã‹ã‚‰webpackã¨vueã‚’ä½¿ã†äºˆå®šãªã®ã§ã€yarnã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã¦newã—ã¾ã™ã€‚ã‚ã€ãã†ã„ãˆã°ruby 2.5ã‹ã‚‰bundlerãŒãƒ‡ãƒ•ã‚©ã«ãªã£ãŸã‚“ã ã£ã‘ï¼Ÿã¾ã‚ã¨ã‚Šã‚ãˆãšgem i bundlerã—ã¦ãŠãã€‚

```
$ brew install yarn
$ rbenv gemset init foobar
$ gem i bundler
$ bundle init
```

Gemfileã«railsã‚’æ›¸ã„ã¦bundle installã€‚

```
$ bundle
$ rails new . --webpack=vue
```

ã§ã€é–‹ç™ºæ™‚ã¯webpackã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã«webpackerã‚’ç«‹ã¡ã‚ã’ãªã„ã¨ã„ã‘ãªã„ã‚‰ã—ãã€ãã‚Œã‚’æ¥½ã«ã™ã‚‹ãŸã‚ã«foremanã‚’ä½¿ç”¨ã™ã‚‹ã®ãŒè‰¯ã„ã‚‰ã—ã„ã®ã§å°å…¥ã€‚

<div class="filename">Gemfile</div>

```ruby
gem 'foreman'
```

Procfileã‚’ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä½œæˆã—ã€ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã„ã¦ä¿å­˜ã™ã‚‹ã€‚

<div class="filename">Procfile</div>

```
rails: rails s
webpack: ./bin/webpack-dev-server
```

ãã—ãŸã‚‰`foreman start`ã§ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¾ã™ã€‚

```
$ foreman start
```

ã£ã¦æ€ã£ãŸã‚‰ãªã‚“ã‹ã‚¨ãƒ©ãƒ¼ã§ãŸã€‚

```
The RUBYGEMS_GEMDEPS environment variable is set. This enables RubyGems' experimental Gemfile mode, which may conflict
with Bundler and cause unexpected errors. To remove this warning, unset RUBYGEMS_GEMDEPS.
15:34:01 rails.1   | started with pid 45749
15:34:01 webpack.1 | started with pid 45750
15:34:01 webpack.1 | Unable to resolve dependency: user requested 'tzinfo-data (>= 0)'
15:34:01 webpack.1 | You may need to `gem install -g` to install missing gems
15:34:01 webpack.1 |
15:34:01 rails.1   | Unable to resolve dependency: user requested 'tzinfo-data (>= 0)'
15:34:01 rails.1   | You may need to `gem install -g` to install missing gems
15:34:01 rails.1   |
15:34:01 webpack.1 | Your `bin/bundle` was not generated by Bundler, so this binstub cannot run.
15:34:01 webpack.1 | Replace `bin/bundle` by running `bundle binstubs bundler --force`, then run this command again.
15:34:01 webpack.1 | exited with code 1
15:34:01 system    | sending SIGTERM to all processes
15:34:01 rails.1   | terminated by SIGTERM
```

`bundle binstubs bundler --force`ã—ã‚ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚ã®ã§ã€è¨€ã‚ã‚Œã‚‹ãŒã¾ã¾å®Ÿè¡Œã€‚

```
$ bundle binstubs bundler --force
```

ã“ã‚Œã§`foreman start`ã—ãŸã‚‰ç„¡äº‹èµ·å‹•ã—ã¾ã—ãŸã€‚ã¨ã„ã†ã‚ã‘ã§ã€å‹‰å¼·ã‚’é–‹å§‹ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚


### ğŸ™‡ å‚è€ƒã«ã—ãŸè¨˜äº‹

- [Vue.jsã¨Railsã§TODOã‚¢ãƒ—ãƒªã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã¿ãŸã„ãªã‚‚ã®ã‚’ä½œã£ã¦ã¿ãŸ - Qiita](https://qiita.com/naoki85/items/51a8b0f2cbf949d08b11)
- [ã€å‹•ç”»ä»˜ãã€‘Rails 5.1ã§ä½œã‚‹Vue.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ï½Herokuãƒ‡ãƒ—ãƒ­ã‚¤ã‹ã‚‰ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆã¾ã§ï½ - Qiita](https://qiita.com/jnchito/items/30ab14ebf29b945559f6)
