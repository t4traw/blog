---
title: TypeScript+Reactでいくつかアプリケーションやサイトを作ってみた感想
date: '2022-03-11'
archives: ["2022/03"]
categories:
  - 開発
tags:
  - TypeScript
  - React
  - NextJS
image: /images/typescript_react.png
---
ずっと覚えたいと思っていたTypeScriptとReactちゃん。Railsアプリケーションの動的な部分での導入、簡単なアプリケーションの作成、このブログや静的なサイトの作成を2つ。そして、今までVueやNuxtJSでやっていた物をTypeScript, React, NextJSで制作してみました😆

僕は典型的な作って覚えるタイプ（作りたいものドリブン）の人間なので、最初の方はRailsアプリケーションの一部動的部分をVanillaJSではなくReactで置き換える方法にしました。

最初は「あーVue||NuxtJSだったらこう書いてたけどなぁ」という部分がありましたが、NuxtJSのサイトを開発したりメンテする時に「あれ？これReactだったらこう書けるんだけど、Vueだとどう書くっけ？」と思うようになったので、それ以降のJamstackなサイトはNextJSで本格的にサイト制作する事にしました🚀

とりあえず今は動かすために最低限必要な書き方を覚えてきたので、次のベストプラクティスやパターンをこれから覚えていくフェイズに来たかもという状態です🙂 この現時点での思い出を残し、まだ良くわかっていないパターンを書いてみたいと思います。

## TypeScriptというかReactは覚えないといけない事は確かに多い

まず、僕自身がRuby, JavaScriptなどの動的型付け言語ばかり書いてきた人間で、お遊び程度にGoやSwiftやDartをHello worldの延長をちょっと書いた事がある程度です。

なので、まずは型宣言などの流儀を覚える事はたしかに大変でした。

というのも、この引数はStringを受け取りとか、この変数はBooleanが代入される、この配列は中身がIntegerだよーといったシンプルな型（いわゆるプリミティブ型）だったらサクっと理解できるのです。

しかし、実際ReactやNextJSなどのライブラリを使うと、そのライブラリの型に関する知識が必要になります。ReactElementやVFCやNextPageとか……。「この時はこの型で」「今はその型ではなく、この型を使うようにしましょう」「この場合は新しいこの型が適切です」というように、型のパズルのピースを覚えていく感じ🤔

この辺りも解決方法を覚えてきたり、そもそも型キャストのやり方を覚えたり……。それでもどうしようもない時の方法を覚えたり……ｗ

ライブラリを使う以上は仕方がない事ないし、進化の早い分野や言語なので、これはしばらく追いながら覚えていくしかないですね🙂

## APIなどを叩く時の型情報に困る

僕はJamstackなサイトを作る時にCMS部分をWordPressにする事が多いのですが、jsonで取得した時の型がunknownになります。これはDBにクエリを投げた時なども同じ悩み事があるみたいで、この辺りを解決するためにtRPCやPrismaやtypescript-json-validatorやtype-predicates-generatorなど、各ライブラリが登場しています。

Reactでも状態管理系のライブラリが数多くあったりするので、ここでも「ライブラリ多すぎ……どれ使えばいいの……」という感想になりますが、それだけ型安全な状態で開発できる事にみんなが期待し、投資しているのでしょう。

ひとまずjsonで取得した部分の型定義に関しては、調べたらでてくる方法をいくつか試してみて、また記事に書いてみたいと思います。

## で、実際のところどう？

今はまだライブラリの型情報に翻弄される事が多いけど、自分で作るコンポーネントなどで「これ文字列が入ってるはずだから、そのメソッド使えないよ？」など教えてくれたりする時、あぁ型付き言語の良さだよなぁと実感します。

これは逆にJavaScriptのレベルが低い自分の方が利用すべきかもしれません😂 TypeScriptはゆるくする事もできるので、サっと書くときもしばらくはTypeScriptで書いてみたいと思います。次はもうちょっとアプリっぽいもの書いてみたいなぁ。

それでは🤟

<div class="amazfy">
<a href="https://www.amazon.co.jp/dp/4798065331?tag=t4traw-22">
<img src="https://ws-fe.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=4798065331&Format=_SL250_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=t4traw-22&language=ja_JP">
<p>TypeScriptハンズオン</p>
</a>
</div>
